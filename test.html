<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script>
    function GetCookie(name){//name = "username"
        var pairs = document.cookie.split(";");
        //쿠키문자열을 ;을 경계로 분할
        //[username = 이름][expires = 2019.10.15]
        for(var i = 0;i<pairs.length;i++){
            var pair = pairs[i].trim();
            //앞뒤 공백 제거(trim)
            var unit = pair.split("=");
            //[username]"="을 기준으로 분할[이름]
            if(unit[0]==name)
                return unescape(unit[1]);
                    //unit=[이름]
                    //카운드도 똑같은 방식으로 반환
                    //아스키코드를 다시 우리가 보는 방식으로 바꾸는게 unescape
        }
        return null;
    }
        function SetCookie( name, value, expireDate){
            //name="username' value=이름, expireDate=1년후
            var cookieStr = name + "=" + escape(value)+
                ((expireDate ==null)?"":("; expires="+expireDate.toGMTString()));
            //username =이름; expires = 2019.10.15
            //7번행으로 이동
            document.cookie = cookieStr;
        }
    </script>
</head>
<body>
    <script>
    var username = GetCookie("username");
    var count = GetCookie("count");
    var expire = new Date();//현재시간
        if(username == null){
            count = 0;
            username = prompt("이름을 입력해주십시오","");
            if(username==null){
                alert("이름을 입력하시면 보다 나은 서비스를 받음");
                username="아무개"
            }else{
                expire.setTime(expire.getTime()+(365*24*3600*1000));//1년후
                SetCookie("ID",username,expire);
            }
        }
        count++;
        expire.setTime(expire.getTime()+(365*24*3600*1000)); //1년후
        SetCookie("count",count,expire);
        document.write("<p>어서오십시오 "+username+"님의 "+count+"번째 방문을 환영합니다.!");
    </script>
</body>
</html>